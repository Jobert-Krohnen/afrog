import{a5 as N,p as O,a as R,f as L,B as U,c as V,t as P,a6 as X,d as g,e as Z,a2 as ee,z as ae,W as i,j as t,Q as w,k as q,r as a,g as se,G as D,i as m,a1 as te,Y as E,a3 as re,v as s,n as ie,a7 as le,a8 as oe,a4 as ne}from"../chunks/CtJMHqX4.js";import{L as de}from"../chunks/Z1puiL8f.js";import{I as fe}from"../chunks/CyXrB8cJ.js";import{B as ce}from"../chunks/Cvi6Ov21.js";import{c as ve}from"../chunks/ImpKam4h.js";import{a as ue,A as pe}from"../chunks/BiS0q-Mq.js";import{a as me}from"../chunks/BsLhG3Ea.js";var ge=L("<!> <!>",1),_e=L('<div><form><div class="flex flex-col gap-6"><div class="flex flex-col items-center gap-2"><a href="/" class="flex flex-col items-center gap-2 font-medium"><div class="flex size-8 items-center justify-center rounded-md"><!></div> <span class="sr-only">Afrog Security.</span></a> <h1 class="text-xl font-bold">Afrog Security.</h1> <div class="text-center text-sm"> </div></div> <div class="flex flex-col gap-6"><div class="grid gap-3"><!></div> <!></div></div></form></div>');function xe(_,l){const v=N();O(l,!0);const[x,G]=ee(),o=()=>te(re,"$t",x);let k=R(l,"ref",15,null),M=ae(l,["$$slots","$$events","$$legacy","ref","class"]),u=w(""),f=w(!1),n=w("");async function Q(e){if(e.preventDefault(),!t(u).trim()){i(n,o()("please_enter_password"),!0);return}i(f,!0),i(n,"");try{const r=await ue.login(t(u));r.success?(me.setToken(r.token),ne("/",{replaceState:!0})):(i(n,r.message||o()("login_failed"),!0),i(n,o()("login_failed"),!0))}catch(r){r instanceof pe?i(n,r.message,!0):i(n,o()("login_failed"),!0)}finally{i(f,!1)}}var c=_e();U(c,e=>({class:e,...M}),[()=>ve("flex flex-col gap-6",l.class)]);var $=a(c),z=a($),h=a(z),b=a(h),A=a(b),T=a(A);de(T,{class:"size-"}),s(A),ie(2),s(b);var j=m(b,4),W=a(j,!0);s(j),s(h);var B=m(h,2),y=a(B),Y=a(y);{let e=q(()=>t(n)?"true":void 0),r=q(()=>o()("please_enter_password"));fe(Y,{get"aria-invalid"(){return t(e)},get id(){return`password-${v}`},type:"password",required:!0,get disabled(){return t(f)},get placeholder(){return t(r)},get value(){return t(u)},set value(p){i(u,p,!0)}})}s(y);var C=m(y,2);ce(C,{type:"submit",class:"w-full",get disabled(){return t(f)},children:(e,r)=>{var p=ge(),S=se(p);{var F=d=>{le(d,{class:"size-4 animate-spin"})};D(S,d=>{t(f)&&d(F)})}var H=m(S,2);{var J=d=>{var I=oe();P(K=>E(I,K),[()=>o()("login")]),g(d,I)};D(H,d=>{t(f)||d(J)})}g(e,p)},$$slots:{default:!0}}),s(B),s(z),s($),s(c),V(c,e=>k(e),()=>k()),P(e=>E(W,e),[()=>o()("login_tip")]),X("submit",$,Q),g(_,c),Z(),G()}var $e=L('<div class="flex min-h-svh flex-col items-center justify-center gap-6 bg-background p-6 md:p-10"><div class="w-full max-w-sm"><!></div></div>');function Ae(_){var l=$e(),v=a(l),x=a(v);xe(x,{}),s(v),s(l),g(_,l)}export{Ae as component};
