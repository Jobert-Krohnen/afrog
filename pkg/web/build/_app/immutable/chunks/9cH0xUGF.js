import{o as i}from"./CbgQDXU4.js";import{ab as o,m as u,ac as f,r as l,v as d,ad as c,w as m}from"./d6p2qzFS.js";function h(r){let e=0,s=f(0),t;return()=>{o()&&(u(s),l(()=>(e===0&&(t=d(()=>r(()=>c(s)))),e+=1,()=>{m(()=>{e-=1,e===0&&(t?.(),t=void 0,c(s))})})))}}class p{#e;#s;constructor(e,s){this.#e=e,this.#s=h(s)}get current(){return this.#s(),this.#e()}}const b=/\(.+\)/,_=new Set(["all","print","screen","and","or","not","only"]);class w extends p{constructor(e,s){let t=b.test(e)||e.split(/[\s,]+/).some(n=>_.has(n.trim()))?e:`(${e})`;const a=window.matchMedia(t);super(()=>a.matches,n=>i(a,"change",n))}}export{w as M,h as c};
